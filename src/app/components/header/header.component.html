<header class="fixed-header">
  <nav class="navbar navbar-expand-lg navbar-light px-4" style="background-color: #42476e">
    <div class="container-fluid">
      <!-- Left side: Logo and Project Name -->
      <div class="d-flex align-items-center">
        <div class="logo-text">NY</div>
        <span class="project-name ms-2" style="color: aliceblue">NearYou</span>
      </div>

      <div class="d-flex align-items-center ms-auto">
        <!-- Conditional rendering based on role -->
        <ng-container *ngIf="isLoggedIn; else guestLinks">
          <ng-container [ngSwitch]="userRole">
            <!-- User Links -->
            <ul *ngSwitchCase="'user'" class="navbar-nav">
              <li class="nav-item"><a class="nav-link" (click)="goToOrders()">Your Orders</a></li>
            </ul>

            <!-- Seller Links -->
            <ul *ngSwitchCase="'seller'" class="navbar-nav">
              @if(shopName=='' )
              {<li class="nav-item"><a class="nav-link " (click)="goToShopReview()">Register</a></li>}
              <li class="nav-item"><a class="nav-link" (click)="goToShopOrders()">Orders</a></li>
              <li class="nav-item"><a class="nav-link" (click)="goToProducts()">Products</a></li>
            </ul>

            <!-- Admin Links -->
            <ul *ngSwitchCase="'admin'" class="navbar-nav">
              <li class="nav-item"><a class="nav-link" (click)="goToAdminReview()">Review</a></li>
              <li class="nav-item"><a class="nav-link" (click)="goToSellers()">Sellers</a></li>
              <li class="nav-item"><a class="nav-link" (click)="goToUsers()">Users</a></li>
            </ul>
          </ng-container>

          <!-- Profile dropdown -->
          <div class="profile-section d-flex ms-3" (click)="toggleDropdown()">
            <img
              [src]="'https://ui-avatars.com/api/?name=User&background=random'"
              alt="Profile Picture"
              class="profile-picture"
            />
            <ul class="custom-dropdown" [class.show]="dropdownOpen">
              <li class="user-info p-3">
                <div class="d-flex align-items-center mb-2">
                  <img
                    [src]="'https://ui-avatars.com/api/?name=User&background=random'"
                    alt="Profile Picture"
                    class="profile-picture-small"
                  />
                  <div class="ms-2">
                    <h6 class="mb-0">{{username}}</h6>
                    <small class="text-muted">{{email}}</small>
                  </div>
                </div>
                <hr />
              </li>
              <li><a class="dropdown-item" (click)="goToProfile()">My Profile</a></li>
              <li><a class="dropdown-item text-danger" href="#" (click)="logout()">Logout</a></li>
            </ul>
          </div>
        </ng-container>

        <!-- Guest Links -->
        <ng-template #guestLinks>
          <span class="login-link me-3" (click)="goToLogin()">Login/Register</span>
        </ng-template>
      </div>
    </div>
  </nav>
</header>
